<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿØÿπŸàÿ© ÿ≤ŸÅÿßŸÅ - ÿ≠ŸÖÿØ ŸàŸÜÿßÿØŸäŸÜ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&family=Cairo:wght@300;400;600;700&family=Tajawal:wght@300;400;500;700&family=Dancing+Script:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Amiri', serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        /* NEW FIREWORKS SYSTEM - Particle Based with Circular Burst */
        .firework-container {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
            top: 0;
            left: 0;
        }
        
        .firework-core {
            position: absolute !important;
            width: 12px !important;
            height: 12px !important;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000 !important;
            will-change: transform, opacity;
            transform: translateZ(0);
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        .firework-core::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle, #ffffff 0%, currentColor 50%, transparent 70%);
            animation: corePulse 2s ease-out forwards;
            box-shadow: 0 0 50px currentColor, 0 0 100px currentColor, 0 0 150px currentColor;
            filter: blur(0.5px);
            display: block;
        }
        
        @keyframes corePulse {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            30% {
                transform: scale(2);
                opacity: 1;
            }
            100% {
                transform: scale(6);
                opacity: 0;
            }
        }
        
        /* Firework Particle - Individual burst particles */
        .firework-particle {
            position: absolute !important;
            width: 10px !important;
            height: 10px !important;
            border-radius: 50%;
            pointer-events: none;
            z-index: 999 !important;
            will-change: transform, opacity;
            transform: translateZ(0);
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        .firework-particle::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: currentColor;
            box-shadow: 0 0 20px currentColor, 0 0 40px currentColor, 0 0 60px currentColor;
            animation: particleBurst 2.5s ease-out forwards;
            filter: blur(0.5px);
            display: block;
        }
        
        .firework-particle::after {
            content: '';
            position: absolute;
            width: 150%;
            height: 150%;
            top: -25%;
            left: -25%;
            border-radius: 50%;
            background: radial-gradient(circle, currentColor 0%, transparent 70%);
            animation: particleGlow 2.5s ease-out forwards;
            opacity: 0.8;
        }
        
        @keyframes particleBurst {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 1;
            }
            20% {
                transform: translate(var(--dx, 0), var(--dy, 0)) scale(2);
                opacity: 1;
            }
            100% {
                transform: translate(calc(var(--dx, 0) * 3), calc(var(--dy, 0) * 3)) scale(0.5);
                opacity: 0;
            }
        }
        
        @keyframes particleGlow {
            0% {
                transform: scale(0);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.6;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }
        
        /* Sparkle trail effect */
        .sparkle-trail {
            position: absolute !important;
            width: 8px !important;
            height: 8px !important;
            border-radius: 50%;
            pointer-events: none;
            z-index: 999 !important;
            will-change: transform, opacity;
            transform: translateZ(0);
            background: #FFD700;
            box-shadow: 0 0 15px currentColor, 0 0 30px currentColor, 0 0 45px currentColor;
            animation: sparkleTrail 3s ease-out forwards;
            filter: blur(0.3px);
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        @keyframes sparkleTrail {
            0% {
                transform: translate(0, 0) scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: translate(var(--trailX, 0), var(--trailY, 0)) scale(1.3) rotate(180deg);
                opacity: 0.9;
            }
            100% {
                transform: translate(calc(var(--trailX, 0) * 1.5), calc(var(--trailY, 0) * 1.5)) scale(0.2) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Container */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }
        
        /* Invitation Card */
        .invitation-card {
            background: linear-gradient(145deg, #ffffff, #f8f9ff);
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
            touch-action: pan-y;
            cursor: pointer;
        }
        
        /* Content wrapper - Text should be below fireworks for visibility */
        .invitation-card > *:not(.firework-core):not(.firework-particle):not(.sparkle-trail) {
            position: relative;
            z-index: 50;
            pointer-events: auto;
        }
        
        .invitation-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        /* Header */
        .header {
            margin-bottom: 30px;
        }
        
        .title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: #8B4513;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
        }
        
        /* Names */
        .names {
            margin: 30px 0;
        }
        
        .formal-invitation {
            font-family: 'Scheherazade New', 'Amiri', serif;
            font-size: 1.4rem;
            color: #555;
            line-height: 2;
            margin-bottom: 25px;
        }
        
        .parents-names {
            font-family: 'Cairo', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: #8B4513;
            margin: 10px 0;
        }
        
        .invitation-text {
            font-family: 'Tajawal', sans-serif;
            font-size: 1.3rem;
            color: #666;
            margin: 20px 0;
            font-weight: 400;
        }
        
        .couple-names {
            font-family: 'Cairo', sans-serif;
            font-size: 3rem;
            font-weight: bold;
            color: #8B4513;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            letter-spacing: 2px;
        }
        
        .ampersand {
            font-size: 2.5rem;
            color: #DAA520;
            margin: 0 15px;
            font-weight: normal;
        }
        
        /* Date and Venue */
        .event-details {
            background: linear-gradient(135deg, #f8f9ff, #e8f0ff);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #DAA520;
        }
        
        .date {
            font-size: 1.8rem;
            font-weight: bold;
            color: #8B4513;
            margin-bottom: 15px;
        }
        
        .day {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 10px;
        }
        
        .venue {
            font-size: 1.4rem;
            color: #8B4513;
            font-weight: bold;
            margin-top: 15px;
        }
        
        /* Countdown Timer */
        .countdown {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .countdown-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .countdown-timer {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .time-unit {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px 10px;
            min-width: 80px;
            backdrop-filter: blur(10px);
        }
        
        .time-number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }
        
        .time-label {
            font-size: 0.9rem;
            margin-top: 5px;
            opacity: 0.9;
        }
        
        /* Decorative Elements */
        .decoration {
            font-size: 2rem;
            color: #DAA520;
            margin: 20px 0;
        }
        
        /* Footer */
        .footer {
            margin-top: 30px;
            font-size: 1.1rem;
            color: #666;
            font-style: italic;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .invitation-card {
                padding: 25px 20px;
            }
            
            .title {
                font-size: 2.2rem;
            }
            
            .couple-names {
                font-size: 2rem;
            }
            
            .parents-names {
                font-size: 1.3rem;
            }
            
            .invitation-text {
                font-size: 1.1rem;
            }
            
            .formal-invitation {
                font-size: 1.2rem;
            }
            
            .date {
                font-size: 1.5rem;
            }
            
            .countdown-timer {
                gap: 10px;
            }
            
            .time-unit {
                min-width: 70px;
                padding: 12px 8px;
            }
            
            .time-number {
                font-size: 1.5rem;
            }
            
            /* Make new fireworks bigger and clearer on mobile */
            .firework-core {
                width: 16px;
                height: 16px;
            }
            
            .firework-core::before {
                box-shadow: 0 0 60px currentColor, 0 0 120px currentColor, 0 0 180px currentColor;
            }
            
            .firework-particle {
                width: 12px;
                height: 12px;
            }
            
            .firework-particle::before {
                box-shadow: 0 0 20px currentColor, 0 0 40px currentColor, 0 0 60px currentColor;
            }
            
            .sparkle-trail {
                width: 8px;
                height: 8px;
                box-shadow: 0 0 16px currentColor, 0 0 32px currentColor, 0 0 48px currentColor;
            }
        }
        
        @media (max-width: 480px) {
            .title {
                font-size: 1.8rem;
            }
            
            .couple-names {
                font-size: 1.6rem;
            }
            
            .ampersand {
                font-size: 1.5rem;
            }
            
            .parents-names {
                font-size: 1.1rem;
            }
            
            .invitation-text {
                font-size: 1rem;
            }
            
            .formal-invitation {
                font-size: 1rem;
            }
            
            .countdown-timer {
                flex-direction: column;
                align-items: center;
            }
            
            .time-unit {
                width: 100px;
            }
            
            /* Even bigger fireworks on small mobile screens */
            .firework-core {
                width: 18px;
                height: 18px;
            }
            
            .firework-core::before {
                box-shadow: 0 0 80px currentColor, 0 0 160px currentColor, 0 0 240px currentColor;
            }
            
            .firework-particle {
                width: 14px;
                height: 14px;
            }
            
            .firework-particle::before {
                box-shadow: 0 0 25px currentColor, 0 0 50px currentColor, 0 0 75px currentColor;
            }
            
            .sparkle-trail {
                width: 10px;
                height: 10px;
                box-shadow: 0 0 20px currentColor, 0 0 40px currentColor, 0 0 60px currentColor;
            }
        }
        
        /* Animation for card entrance */
        .invitation-card {
            animation: slideInUp 1s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="invitation-card">
            <div class="header">
                <h1 class="title">ÿØÿπŸàÿ© ÿ≤ŸÅÿßŸÅ</h1>
                <p class="subtitle">ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿßŸÑÿ±ÿ≠ŸäŸÖ</p>
            </div>
            
            <div class="decoration">‚ú® ‚ù§Ô∏è ‚ú®</div>
            
            <div class="names">
                <div class="formal-invitation">
                    <p>Ÿäÿ™ÿ¥ÿ±ŸÅ</p>
                    <p class="parents-names">ÿßŸÑÿ≥ŸäÿØ ÿ•ÿ®ÿ±ÿßŸáŸäŸÖ ÿ£ÿ≠ŸÖÿØ ÿ¨ÿπŸÅÿ±</p>
                    <p>Ÿà</p>
                    <p class="parents-names">ÿßŸÑÿ≥ŸäÿØ ŸÖÿ≠ŸÖÿØ ÿ≤ŸÉŸä ÿßŸÑÿ≤ÿ®ŸÜ</p>
                    <p class="invitation-text">ÿ®ÿØÿπŸàÿ™ŸÉŸÖ ŸÑÿ≠ÿ∂Ÿàÿ± ÿ≠ŸÅŸÑ ÿ≤ŸÅÿßŸÅ ŸàŸÑÿØŸäŸáŸÖÿß</p>
                </div>
                <div class="couple-names">
                    ÿ≠ŸÖÿØ<span class="ampersand">&</span>ŸÜÿßÿØŸäŸÜ
                </div>
            </div>
            
            <div class="decoration">üíï</div>
            
            <div class="event-details">
                <div class="day">ŸäŸàŸÖ ÿßŸÑÿ´ŸÑÿßÿ´ÿßÿ°</div>
                <div class="date">14 / 4 / 2026</div>
                <div class="venue">ŸÅŸä ŸÇÿßÿπÿßÿ™ ÿßŸÑŸÜÿπŸÖÿßŸÜ</div>
            </div>
            
            <div class="countdown">
                <div class="countdown-title">ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖÿ™ÿ®ŸÇŸä ŸÑŸÑÿ≤ŸÅÿßŸÅ</div>
                <div class="countdown-timer">
                    <div class="time-unit">
                        <span class="time-number" id="days">0</span>
                        <div class="time-label">ÿ£ŸäÿßŸÖ</div>
                    </div>
                    <div class="time-unit">
                        <span class="time-number" id="hours">0</span>
                        <div class="time-label">ÿ≥ÿßÿπÿßÿ™</div>
                    </div>
                    <div class="time-unit">
                        <span class="time-number" id="minutes">0</span>
                        <div class="time-label">ÿØŸÇÿßÿ¶ŸÇ</div>
                    </div>
                    <div class="time-unit">
                        <span class="time-number" id="seconds">0</span>
                        <div class="time-label">ÿ´ŸàÿßŸÜŸä</div>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                <p>ŸÜÿ™ÿ¥ÿ±ŸÅ ÿ®ÿ≠ÿ∂Ÿàÿ±ŸÉŸÖ ÿßŸÑŸÉÿ±ŸäŸÖ</p>
                <p>ŸàŸÜÿ≥ÿ£ŸÑ ÿßŸÑŸÑŸá ÿ£ŸÜ Ÿäÿ¨ÿπŸÑ Ÿáÿ∞ÿß ÿßŸÑŸäŸàŸÖ ŸÖÿ®ÿßÿ±ŸÉÿßŸã</p>
            </div>
        </div>
    </div>

    <script>
        // Countdown Timer - Fixed Date Parsing
        function updateCountdown() {
            // Create date for April 14, 2026 at 12:00 PM
            const weddingDate = new Date(2026, 3, 14, 12, 0, 0); // Month is 0-indexed, so 3 = April
            const now = new Date();
            const distance = weddingDate.getTime() - now.getTime();
            
            if (distance > 0) {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = days.toString().padStart(2, '0');
                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            } else {
                document.getElementById('days').textContent = '00';
                document.getElementById('hours').textContent = '00';
                document.getElementById('minutes').textContent = '00';
                document.getElementById('seconds').textContent = '00';
            }
        }
        
        // Update countdown every second
        updateCountdown();
        setInterval(updateCountdown, 1000);
        
        // Get reference to invitation card - Ensure it's available
        let invitationCard = document.querySelector('.invitation-card');
        
        // NEW FIREWORKS SYSTEM - Circular Burst with Multiple Particles
        const fireworkColors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57', '#FF9FF3', '#FF69B4', '#00CED1', '#FF1493', '#FF4500', '#00FF7F', '#FF1493', '#9370DB'];
        
        // Function to initialize fireworks - called when DOM is ready
        let fireworksInitialized = false;
        function initializeFireworks() {
            if (fireworksInitialized) return; // Prevent multiple initializations
            
            if (!invitationCard) {
                invitationCard = document.querySelector('.invitation-card');
            }
            if (invitationCard && !fireworksInitialized) {
                fireworksInitialized = true;
                const isMobile = window.innerWidth <= 768;
                // Create first burst after a longer delay (slower)
                setTimeout(() => createFireworkBurst(), isMobile ? 5000 : 3000);
                // Start periodic fireworks with much longer delay
                setTimeout(startFireworks, isMobile ? 8000 : 6000);
            }
        }
        
        // Create a new firework burst with core and particles
        function createFireworkBurst(x = null, y = null) {
            if (!invitationCard) {
                return;
            }
            
            const cardRect = invitationCard.getBoundingClientRect();
            if (!cardRect || cardRect.width === 0) {
                return;
            }
            
            let leftPercent, topPercent;
            
            // Calculate position
            if (x !== null && y !== null) {
                leftPercent = Math.max(5, Math.min(95, x));
                topPercent = Math.max(5, Math.min(95, y));
            } else {
                // Random position within card
                leftPercent = 15 + Math.random() * 70;
                topPercent = 15 + Math.random() * 70;
            }
            
            // Select random color
            const color = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
            
            // Create core (bright center explosion) - Make it more visible
            const core = document.createElement('div');
            core.className = 'firework-core';
            core.style.left = leftPercent + '%';
            core.style.top = topPercent + '%';
            core.style.color = color;
            core.style.background = color;
            core.style.zIndex = '1000';
            core.style.position = 'absolute';
            core.style.display = 'block';
            core.style.visibility = 'visible';
            core.style.opacity = '1';
            invitationCard.appendChild(core);
            
            // Remove core after animation (slower)
            setTimeout(() => {
                if (core.parentNode) {
                    core.parentNode.removeChild(core);
                }
            }, 2000);
            
            // Create circular burst particles - Much less for better performance
            const isMobile = window.innerWidth <= 768;
            const particleCount = isMobile ? 4 : 6; // Further reduced from 8-12 to 4-6
            const radius = isMobile ? 50 : 60; // Further reduced from 60-80 to 50-60
            
            for (let i = 0; i < particleCount; i++) {
                const angle = (i * 360 / particleCount) * (Math.PI / 180);
                const dx = Math.cos(angle) * radius;
                const dy = Math.sin(angle) * radius;
                
                // Add some randomness to the angle
                const randomAngle = angle + (Math.random() - 0.5) * 0.5;
                const randomRadius = radius * (0.7 + Math.random() * 0.6);
                const finalDx = Math.cos(randomAngle) * randomRadius;
                const finalDy = Math.sin(randomAngle) * randomRadius;
                
                // Create particle - Make it more visible
                const particle = document.createElement('div');
                particle.className = 'firework-particle';
                particle.style.left = leftPercent + '%';
                particle.style.top = topPercent + '%';
                particle.style.color = color;
                particle.style.background = color;
                particle.style.zIndex = '999';
                particle.style.position = 'absolute';
                particle.style.display = 'block';
                particle.style.visibility = 'visible';
                particle.style.opacity = '1';
                particle.style.setProperty('--dx', finalDx + 'px');
                particle.style.setProperty('--dy', finalDy + 'px');
                
                invitationCard.appendChild(particle);
                
                // Remove particle after animation (slower)
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 2500);
                
                // Create sparkle trail behind particle - Skip on mobile for performance
                if (!isMobile) {
                    const trail = document.createElement('div');
                    trail.className = 'sparkle-trail';
                    trail.style.left = leftPercent + '%';
                    trail.style.top = topPercent + '%';
                    trail.style.color = color;
                    trail.style.background = color;
                    trail.style.zIndex = '999';
                    trail.style.position = 'absolute';
                    trail.style.display = 'block';
                    trail.style.visibility = 'visible';
                    trail.style.opacity = '1';
                    trail.style.setProperty('--trailX', finalDx * 0.5 + 'px');
                    trail.style.setProperty('--trailY', finalDy * 0.5 + 'px');
                    
                    invitationCard.appendChild(trail);
                    
                    // Remove trail after animation (slower)
                    setTimeout(() => {
                        if (trail.parentNode) {
                            trail.parentNode.removeChild(trail);
                        }
                    }, 3000);
                }
            }
            
            // Create additional random sparkles - Removed completely for better performance
            const extraSparkles = 0; // Completely removed
            for (let i = 0; i < extraSparkles; i++) {
                const sparkleAngle = Math.random() * 2 * Math.PI;
                const sparkleDistance = radius * (0.3 + Math.random() * 0.7);
                const sparkleDx = Math.cos(sparkleAngle) * sparkleDistance;
                const sparkleDy = Math.sin(sparkleAngle) * sparkleDistance;
                
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle-trail';
                sparkle.style.left = leftPercent + '%';
                sparkle.style.top = topPercent + '%';
                const sparkleColor = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
                sparkle.style.color = sparkleColor;
                sparkle.style.background = sparkleColor;
                sparkle.style.zIndex = '999';
                sparkle.style.position = 'absolute';
                sparkle.style.display = 'block';
                sparkle.style.visibility = 'visible';
                sparkle.style.opacity = '1';
                sparkle.style.setProperty('--trailX', sparkleDx * 0.7 + 'px');
                sparkle.style.setProperty('--trailY', sparkleDy * 0.7 + 'px');
                
                invitationCard.appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle.parentNode) {
                        sparkle.parentNode.removeChild(sparkle);
                    }
                }, 2000);
            }
        }
        
        // Create multiple fireworks in sequence for a bigger burst - Reduced for mobile
        function createMultiFireworkBurst(x = null, y = null) {
            const isMobile = window.innerWidth <= 768;
            const burstCount = isMobile ? 1 : 2; // Reduced from 3 to 1-2
            for (let i = 0; i < burstCount; i++) {
                setTimeout(() => {
                    const offsetX = x !== null ? x + (Math.random() - 0.5) * 8 : null;
                    const offsetY = y !== null ? y + (Math.random() - 0.5) * 8 : null;
                    createFireworkBurst(offsetX, offsetY);
                }, i * 300); // Increased delay from 200 to 300
            }
        }
        
        // Create fireworks periodically - Much less frequent for better performance
        function startFireworks() {
            const isMobile = window.innerWidth <= 768;
            createFireworkBurst();
            // Much longer interval: mobile 10-15 seconds, desktop 8-12 seconds
            const interval = isMobile ? (Math.random() * 5000 + 10000) : (Math.random() * 4000 + 8000);
            setTimeout(startFireworks, interval);
        }
        
        // Start fireworks when DOM is ready - Simplified for better performance
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeFireworks);
        } else {
            // DOM is already ready
            setTimeout(initializeFireworks, 500);
        }
        
        // Helper function to get coordinates from event (works for both click and touch)
        function getEventCoordinates(e) {
            if (!invitationCard) return null;
            
            const cardRect = invitationCard.getBoundingClientRect();
            let clientX, clientY;
            
            // Handle touch events
            if (e.touches && e.touches.length > 0) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else if (e.changedTouches && e.changedTouches.length > 0) {
                // Touch end event
                clientX = e.changedTouches[0].clientX;
                clientY = e.changedTouches[0].clientY;
            } else {
                // Mouse event
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            const clickX = clientX - cardRect.left;
            const clickY = clientY - cardRect.top;
            
            // Check if inside card
            if (clickX >= 0 && clickX <= cardRect.width && clickY >= 0 && clickY <= cardRect.height) {
                const x = (clickX / cardRect.width) * 100;
                const y = (clickY / cardRect.height) * 100;
                return { x, y };
            }
            
            return null;
        }
        
        // Enhanced interactive fireworks on click - NEW SYSTEM
        document.addEventListener('click', function(e) {
            const coords = getEventCoordinates(e);
            if (coords) {
                createMultiFireworkBurst(coords.x, coords.y);
            }
        });
        
        // Touch event support for mobile devices - NEW SYSTEM
        let touchStartTime = 0;
        let touchStartCoords = null;
        let lastTouchMoveTime = 0;
        
        document.addEventListener('touchstart', function(e) {
            touchStartTime = Date.now();
            touchStartCoords = getEventCoordinates(e);
            
            // Create fireworks immediately on touch
            if (touchStartCoords) {
                createMultiFireworkBurst(touchStartCoords.x, touchStartCoords.y);
            }
        }, { passive: true });
        
        document.addEventListener('touchend', function(e) {
            // Prevent default scrolling if it's a quick tap inside the card
            const touchDuration = Date.now() - touchStartTime;
            if (touchDuration < 300 && touchStartCoords) {
                e.preventDefault();
            }
            touchStartCoords = null;
            lastTouchMoveTime = 0;
        }, { passive: false });
        
        // Touch move - create fireworks while dragging inside card
        document.addEventListener('touchmove', function(e) {
            const coords = getEventCoordinates(e);
            const now = Date.now();
            // Limit firework creation during touch move to avoid too many
            if (coords && touchStartTime && now - touchStartTime > 150 && now - lastTouchMoveTime > 100) {
                createFireworkBurst(coords.x, coords.y);
                lastTouchMoveTime = now;
            }
        }, { passive: true });
        
        // Add keyboard fireworks (spacebar) - NEW SYSTEM
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space') {
                e.preventDefault();
                createMultiFireworkBurst();
            }
        });
    </script>
</body>
</html>
